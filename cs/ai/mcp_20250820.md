
# CS「MCP」
- 2025-08-20 00:24:32

## GPT「MCPとは」

Claudeの文脈で言う **MCPサーバ** は、Anthropicが提案している **Model Context Protocol (MCP)** のサーバ部分を指します。

### 要点

* **MCP (Model Context Protocol)**
  LLMと外部ツールやデータソースを統一的に接続するためのオープン仕様。
  Claudeを含むLLMは、MCPクライアントとして動作できる。

* **MCPサーバ**

  * 外部リソースや機能をLLMに公開するプロセス。
  * 例: データベース、API、ファイルシステム、内部業務システム。
  * サーバが「このリソースをこの形式で提供する」とMCPの仕様に従って公開する。

* **仕組み**

  1. ClaudeはMCPクライアントとして接続する。
  2. MCPサーバは「利用可能なリソース一覧」や「呼び出し可能な関数」を提供。
  3. Claudeがユーザのリクエストに応じて、そのサーバの機能を呼び出す。

### 具体例

* GitHubリポジトリを読み書きするMCPサーバ
* Google Driveからファイル検索・取得できるMCPサーバ
* 社内DB検索用のMCPサーバ

つまり **MCPサーバ = Claudeが使える外部ツールやデータを公開するサーバ側実装** です。

## youtube「MCPサーバーって便利なのか？色々触ってみて感じたことを解説してみた」2025/05/10

https://www.youtube.com/watch?v=LIz-3-T5mpc

- MCPとは
    - モデルとサービスとのハブ
    - GithubやらGoogleカレンダーやらいろいろ繋がる
- ThinkTool
    - 繋げただけで思考能力を上げるMCP
- ブラウザにアタッチすることもできてそう
- context7
    - READMEなどを読んで最新のコードでClaudeが使える
- Claudeのチャットで直接MCPを指定できそう

## MCPに何を入力しても構文エラーになる問題が発生

```log:プロンプト
cline_mcp_settings.jsonに何を入力しても
Invalid MCP settings format. Please ensure your settings follow the correct JSON format.
と表示されます。

https://github.com/cline/cline/issues/2459 を参考にVSCode再起動や "transportType": "stdio"の追加、 { "mcpServers": {} } の設定、文字コードの変更などをしていますが解消しません。
```

```md:Task Completed
Task Completed

cline_mcp_settings.jsonの「Invalid MCP settings format」エラーの根本的な解決を実施しました。

__実行した対策：__

1. __既存ファイルの完全削除__

   - 問題のあるファイルを完全に削除して、キャッシュされた設定をクリア

2. __新しいファイルの作成__

   - PowerShellの`New-Item`コマンドで新しいファイルを作成
   - 最小限のJSON形式：`{"mcpServers":{}}`
   - ファイルサイズ17バイトで正常に作成

3. __エンコーディング問題の解決__

   - BOMなしUTF-8エンコーディングで作成
   - 特殊文字や隠れた制御文字を排除

__現在の設定ファイル：__

- パス：`C:\Users\nagi\AppData\Roaming\Code\User\globalStorage\saoudrizwan.claude-dev\settings\cline_mcp_settings.json`
- 内容：`{"mcpServers":{}}`
- サイズ：17バイト

この方法で問題が解決されるはずです。「Manage MCP Servers」ボタンを再度試してみてください。もしまだエラーが発生する場合は、VSCodeを完全に再起動（すべてのVSCodeプロセスを終了してから再起動）することをお勧めします。
```

